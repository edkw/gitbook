---
description: バケットコピーコマンド：
---

# S3

aws s3 cp \[S3 URI] \[保存したいローカルのディレクトリ] --recursive

```bash
// 
[user@server_name ~]$ aws s3 cp s3://backet_name ./tmp  --recursive
fatal error: An error occurred (AccessDenied) when calling the ListObjectsV2 operation: Access Denied
```



### aws s3 のコマンド一覧

| コマンド                                            | 説明                                     |
| ----------------------------------------------- | -------------------------------------- |
| aws s3 ls                                       | バケットの一覧を表示する                           |
| aws s3 ls s3://{バケット名}/{パス}                     | バケットの内容を表示する                           |
| aws s3 mb s3://{バケット名}                          | バケットを作成する                              |
| aws s3 rb s3://{バケット名}                          | バケットを削除する(空でない場合は削除されない)               |
| aws s3 rb s3://{バケット名} --force                  | バケットを削除する(空でなくても削除される)                 |
| aws s3 sync {フォルダパス} s3://{バケット名}/{パス}          | バケットの内容をローカルのフォルダと同期する(追加・更新のみで削除されない) |
| aws s3 sync {フォルダパス} s3://{バケット名}/{パス} --delete | バケットの内容をローカルのフォルダと同期する(削除もされる)         |
| aws s3 cp {ファイルパス} s3://{バケット名}/{パス}            | ローカルのファイルをバケットにコピーする                   |
| aws s3 mv {ファイルパス} s3://{バケット名}/{パス}            | ローカルのファイルをバケットに移動する                    |
| aws s3 rm s3://{バケット名}/{ファイルパス}                 | バケットのファイルを削除する                         |
| aws s3 rm s3://{バケット名}/{フォルダパス} --recursive     | バケットのフォルダを削除する                         |

`sync` `cp` `mv` はローカルからS3のみでなく、S3からローカル、S3からS3もファイルをやりとりできます。\
個人的には `sync` がファイル・フォルダを一括で追加・更新・削除できるので便利です。
